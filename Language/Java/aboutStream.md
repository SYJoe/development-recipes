# Java 8부터 제공되는 stream API 얼마나 알고 있나요?

## 🎈 왜 stream api를 사용하면 좋을까?

- 클린코드를 작성하는데 있어서 한 메서드에 오직 한 단계의 들여쓰기(indent)만 한다라는 말을 자주 들어봤을 것이다. 이게 무슨 말일까?

```Java
(예시)
public void getEventNumber() {
    for(int i = 0; i < 100; i++) {
        for(int j = 0; j < 100; j++) {
            System.out.println(i * j);
        }
    }
}
```

- 2중 for문의 첫 번째 Block 내부 for문의 두 번째 Block -> 이러한 경우, indent가 2라고 말할 수 있다.

## 💁‍♂️ 그래서 말하고 싶은 것이 뭔데?

> 협업하는 과정 속에서 코드를 작성하는 것은 글을 쓰는 것과 같다. 보기 좋으며 깔끔한 글을 봤을때 이해하기도 좋고 간결하면 얼마나 독해하는 시간이 효과적인가? `코드를 작성하는 것도 글이라고 생각하고 남이 봤을 때 독해의 어려움이 없도록 노력해보자.`

`단순히 2중 for문이 해당되는 것이 아니라 로직을 잘 쪼개서 결합도를 낮추자는 의미이다`

본격적으로 ...

## Stream이란?

Java8부터 지원하는 Stream은 컬렉션, 배열등에 대해 저장되어 있는 요소들을 하나씩 참조하며 반복적인 처리를 가능하게 해준다. 따라서 불필요한 for문과 이 안에서 일어나는 if문등의 분기처리를 쓰지 않고 깔끔하고 직관적인 코드로 볼 수 있다.

## Stream 특징

> 1. Stream은 데이터를 변경하지 않는다 -> 원본데이터로부터 데이터를 읽기만 할 뿐, `원본 데이터 자체를 변경하지 않는다.`
> 2. Stream은 일회용이기에 필요하다면 정렬된 결과를 컬렉션이나 배열에 담아 반환할 수 있다.
> 3. Stream은 작업을 내부 반복으로 처리한다. 내부 반복이 무슨 뜻일까? 반복문을 메서드 내부에 숨길 수 있다는 것이다. 즉, `코드로 노출되지 않는다.`

## Stream 구조

크게 3가지
`Stream생성().중개연산().최종연산();` 의 형태를 가지고 있다.

Stream은 다양한 데이터소스에서 생성할 수 있는데

> 컬렉션, 배열, 가변 매개변수, 람다 표현식, 빈 스트림 등등이 있다.

## 중개 연산

중개 연산은 Stream을 전달 받아 Stream으로 반환하므로 중개 연산을 연속으로 사용할 수 있다. 또한 Stream의 중개 연산은 필터-맵(filter-map)기반의 API를 사용함으로 lazy 연산을 통해 성능을 최적화할 수 있다.

### ☑️ 대표적인 중개 연산

1. Stream 필터링: filter(), distinct()
2. Stream 변환: map(), flatMap()
3. Stream 제한: limit(), skip()
4. Stream 정렬: sorted()
5. Stream 연산 결과 확인: peek()

**_위에서 언급한 `lazy연산을 이해`하고 넘어가는 것이 좋다_**

Lazy 와 Eager, 지연 연산과 즉시 연산이라고 볼 수 있는데 조금 더 쉽게 말해보자면 Lazy는 코드가 주어졌을 때 곧바로 해당 코드를 실행하는 것이 아니라 실행결과가 필요한 시점에 실행하도록 하는 것이다.
다만 이러한 방식으로 코드가 동작하기 위해서는 준비 작업이 필요하므로 무조건 효율적이라고 보기는 어렵다.
특정 작업이 신뢰있으며 향후에 확실히 필요한 코드라면 미리 실행해 두는 것이 성능적으로 우월할수도 있다.
